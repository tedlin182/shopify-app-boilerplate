{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { EmptyState, Layout, Page } from '@shopify/polaris';\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\nimport store from 'store-js';\nimport ResourceListWithProducts from '../components/ResourceList';\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nconst handleSelection = (resources, setOpenState) => {\n  const idsFromResources = resources.selection.map(product => product.id);\n  setOpenState(false);\n  store.set('ids', idsFromResources);\n};\n\nexport const Index = () => {\n  _s();\n\n  const {\n    0: isOpenState,\n    1: setOpenState\n  } = useState(false);\n  const emptyState = !store.get('ids');\n  return __jsx(Page, null, __jsx(TitleBar, {\n    title: \"Sample App\",\n    primaryAction: {\n      content: 'Select products',\n      onAction: () => setOpenState(true)\n    }\n  }), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: isOpenState,\n    onSelection: resources => handleSelection(resources, setOpenState),\n    onCancel: () => setOpenState(false)\n  }), emptyState ? __jsx(Layout, null, __jsx(EmptyState, {\n    heading: \"Discount your products temporarily\",\n    action: {\n      content: 'Select products',\n      onAction: () => setOpenState(true)\n    },\n    image: img\n  }, __jsx(\"p\", null, \"Select products to change their price temporarily.\"))) : __jsx(ResourceListWithProducts, null));\n};\n\n_s(Index, \"FhM14R6Wa4aA45DsnTAaN8gO9QM=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/tedisawesome/Desktop/Projects/shopify-app-boilerplate/pages/index.js"],"names":["useState","EmptyState","Layout","Page","ResourcePicker","TitleBar","store","ResourceListWithProducts","img","handleSelection","resources","setOpenState","idsFromResources","selection","map","product","id","set","Index","isOpenState","emptyState","get","content","onAction"],"mappings":";;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,IAA7B,QAAyC,kBAAzC;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,2BAAzC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,wBAAP,MAAqC,4BAArC;AAEA,MAAMC,GAAG,GAAG,mEAAZ;;AAEA,MAAMC,eAAe,GAAG,CAACC,SAAD,EAAYC,YAAZ,KAA6B;AACnD,QAAMC,gBAAgB,GAAGF,SAAS,CAACG,SAAV,CAAoBC,GAApB,CAAyBC,OAAD,IAAaA,OAAO,CAACC,EAA7C,CAAzB;AAEAL,EAAAA,YAAY,CAAC,KAAD,CAAZ;AACAL,EAAAA,KAAK,CAACW,GAAN,CAAU,KAAV,EAAiBL,gBAAjB;AACD,CALD;;AAOA,OAAO,MAAMM,KAAK,GAAG,MAAM;AAAA;;AACzB,QAAM;AAAA,OAACC,WAAD;AAAA,OAAcR;AAAd,MAA8BX,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAMoB,UAAU,GAAG,CAACd,KAAK,CAACe,GAAN,CAAU,KAAV,CAApB;AAEA,SACE,MAAC,IAAD,QACE,MAAC,QAAD;AACE,IAAA,KAAK,EAAC,YADR;AAEE,IAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAE,iBADI;AAEbC,MAAAA,QAAQ,EAAE,MAAMZ,YAAY,CAAC,IAAD;AAFf;AAFjB,IADF,EAQE,MAAC,cAAD;AACE,IAAA,YAAY,EAAC,SADf;AAEE,IAAA,YAAY,EAAE,KAFhB;AAGE,IAAA,IAAI,EAAEQ,WAHR;AAIE,IAAA,WAAW,EAAET,SAAS,IAAID,eAAe,CAACC,SAAD,EAAYC,YAAZ,CAJ3C;AAKE,IAAA,QAAQ,EAAE,MAAMA,YAAY,CAAC,KAAD;AAL9B,IARF,EAeGS,UAAU,GACT,MAAC,MAAD,QACE,MAAC,UAAD;AACE,IAAA,OAAO,EAAC,oCADV;AAEE,IAAA,MAAM,EAAE;AACNE,MAAAA,OAAO,EAAE,iBADH;AAENC,MAAAA,QAAQ,EAAE,MAAMZ,YAAY,CAAC,IAAD;AAFtB,KAFV;AAME,IAAA,KAAK,EAAEH;AANT,KAQE,sEARF,CADF,CADS,GAcP,MAAC,wBAAD,OA7BN,CADF;AAkCD,CAtCM;;GAAMU,K;;KAAAA,K;AAwCb,eAAeA,KAAf","sourcesContent":["import { useState } from 'react'\nimport { EmptyState, Layout, Page } from '@shopify/polaris'\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react'\nimport store from 'store-js'\nimport ResourceListWithProducts from '../components/ResourceList'\n\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg'\n\nconst handleSelection = (resources, setOpenState) => {\n  const idsFromResources = resources.selection.map((product) => product.id)\n\n  setOpenState(false)\n  store.set('ids', idsFromResources)\n}\n\nexport const Index = () => {\n  const [isOpenState, setOpenState] = useState(false)\n  const emptyState = !store.get('ids')\n\n  return (\n    <Page>\n      <TitleBar\n        title=\"Sample App\"\n        primaryAction={{\n          content: 'Select products',\n          onAction: () => setOpenState(true),\n        }}\n      />\n      <ResourcePicker\n        resourceType=\"Product\"\n        showVariants={false}\n        open={isOpenState}\n        onSelection={resources => handleSelection(resources, setOpenState)}\n        onCancel={() => setOpenState(false)}\n      />\n      {emptyState ? (\n        <Layout>\n          <EmptyState\n            heading=\"Discount your products temporarily\"\n            action={{\n              content: 'Select products',\n              onAction: () => setOpenState(true),\n            }}\n            image={img}\n          >\n            <p>Select products to change their price temporarily.</p>\n          </EmptyState>\n        </Layout>\n      ) : (\n          <ResourceListWithProducts />\n        )}\n    </Page>\n  )\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}